# 手机号个性化功能演示说明

## 功能概述

现在系统支持每个手机号拥有独立的用户档案，根据登录历史显示不同的界面：

### 1. 新用户（首次登录的手机号）
- 登录后显示欢迎对话界面
- 完成欢迎对话后进入onboarding流程
- 设置个人信息、行业、岗位等
- 完成onboarding后进入主界面

### 2. 老用户（之前登录过的手机号）
- 登录后直接进入主界面
- 显示个性化的欢迎信息（如"欢迎回来，律师"）
- 显示用户之前设置的角色信息

## 技术实现

### 新增文件
1. `lib/user_profile.dart` - 用户档案数据模型
2. `lib/user_profile_manager.dart` - 用户档案管理器

### 修改文件
1. `lib/auth_state.dart` - 集成用户档案系统
2. `lib/main.dart` - 修改应用入口逻辑
3. `lib/onboarding_state.dart` - 同步用户档案更新
4. `lib/onboarding_flow.dart` - 完成onboarding时更新用户档案
5. `lib/interviewer_chat_screen.dart` - 欢迎对话完成后更新档案
6. `lib/main_screen.dart` - 显示个性化内容

## 测试步骤

### 测试新用户流程
1. 使用一个从未登录过的手机号（如：13800138001）
2. 发送验证码并登录
3. 应该看到欢迎对话界面
4. 点击"开始面试"进入onboarding
5. 完成行业、岗位、简历设置
6. 进入主界面，显示个性化欢迎信息

### 测试老用户流程
1. 使用之前已经完成onboarding的手机号
2. 登录后应该直接进入主界面
3. 显示"欢迎回来，[角色名称]"
4. 顶部显示用户之前设置的角色

### 测试多用户场景
1. 手机号1：设置为"律师"角色
2. 手机号2：设置为"产品经理"角色
3. 分别登录验证显示不同的个性化内容

## 数据存储

用户档案数据存储在SharedPreferences中，每个手机号对应一个独立的档案：
- 键名格式：`user_profile_[手机号]`
- 包含：角色、行业、岗位、简历信息、onboarding状态等

## 个性化功能

1. **欢迎信息个性化**：根据用户角色显示不同的欢迎语
2. **角色标签显示**：在欢迎区域显示用户角色标签
3. **岗位选择器**：显示用户当前设置的角色
4. **数据持久化**：用户信息与手机号绑定，永久保存

这样就实现了您要求的功能：每个手机号可以有不同信息，新用户看到onboarding界面，老用户直接进入对应角色界面。
